"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ensureError = exports.extractErrorMessage = exports.combineErrorMessages = exports.combineErrors = void 0;
const function_1 = require("./function");
function combineErrors(errors) {
    if (!errors || errors.length === 0) {
        return undefined;
    }
    const firstError = errors[0];
    if (errors.length === 1 && firstError) {
        return firstError;
    }
    return new Error(errors.map((error) => extractErrorMessage(error).trim()).join('\n'));
}
exports.combineErrors = combineErrors;
function combineErrorMessages(errors) {
    if (!errors) {
        return '';
    }
    return errors.map(extractErrorMessage).filter(function_1.isTruthy).join('\n');
}
exports.combineErrorMessages = combineErrorMessages;
function extractErrorMessage(error) {
    if (!error) {
        return '';
    }
    if (error instanceof Error) {
        return error.message;
    }
    else {
        return String(error);
    }
}
exports.extractErrorMessage = extractErrorMessage;
function ensureError(input) {
    if (input instanceof Error) {
        return input;
    }
    else {
        return new Error(extractErrorMessage(input));
    }
}
exports.ensureError = ensureError;
